асинхронная функция квадрат(x: Цел) -> Цел:
    пауза(50)
    вернуть x * x

функция main() -> Пусто:
    пусть t1: Задача = квадрат(6)
    пусть t2: Задача = квадрат(7)

    пусть values = ожидать_все([t1, t2], 2000)
    утверждать_равно(values[0], 36, "первый квадрат")
    утверждать_равно(values[1], 49, "второй квадрат")

    пусть t3: Задача = квадрат(8)
    утверждать(готово(t3) == ложь, "задача не должна быть завершена мгновенно")
    утверждать_равно(ждать t3, 64, "результат ждать t3")
    вернуть пусто
