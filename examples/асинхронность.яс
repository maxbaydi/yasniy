асинхронная функция квадрат_с_задержкой(x: Цел) -> Цел:
    пауза(200)
    вернуть x * x

функция main() -> Пусто:
    пусть t1: Задача = квадрат_с_задержкой(5)
    пусть t2: Задача = квадрат_с_задержкой(8)
    пусть t3: Задача = квадрат_с_задержкой(13)

    печать("t1:", t1)
    печать("t1 готово?", готово(t1))

    пусть был_отменен: Лог = отменить(t2)
    печать("t2 отменена:", был_отменен)

    пусть r1: Цел = ждать t1
    печать("r1:", r1)

    если был_отменен:
        печать("t2 снята с очереди до старта")
        пусть r3: Цел = ждать t3
        печать("r3:", r3)
    иначе:
        пусть остальные: Список[Любой] = ожидать_все([t2, t3], 2000)
        печать("остальные:", остальные)
    вернуть пусто
