пусть задачи: Список[Словарь[Строка, Строка]] = []
пусть счётчик: Цел = 0

экспорт функция следующий_id() -> Строка:
    счётчик = счётчик + 1
    вернуть строка(счётчик)

экспорт функция все_записи() -> Список[Словарь[Строка, Строка]]:
    вернуть задачи

экспорт функция найти_по_id(id: Строка) -> Словарь[Строка, Строка]:
    пусть i: Цел = 0
    пока i < длина(задачи):
        если задачи[i]["id"] == id:
            вернуть задачи[i]
        i = i + 1
    вернуть {"ошибка": "не_найдено"}

экспорт функция сохранить(запись: Словарь[Строка, Строка]) -> Пусто:
    добавить(задачи, запись)
    вернуть пусто

экспорт функция удалить_по_id(id: Строка) -> Лог:
    пусть i: Цел = 0
    пока i < длина(задачи):
        если задачи[i]["id"] == id:
            удалить(задачи, i)
            вернуть истина
        i = i + 1
    вернуть ложь

экспорт функция обновить_поле(id: Строка, поле: Строка, значение: Строка) -> Лог:
    пусть i: Цел = 0
    пока i < длина(задачи):
        если задачи[i]["id"] == id:
            задачи[i][поле] = значение
            вернуть истина
        i = i + 1
    вернуть ложь

экспорт функция отфильтровать(поле: Строка, значение: Строка) -> Список[Словарь[Строка, Строка]]:
    пусть результат: Список[Словарь[Строка, Строка]] = []
    пусть i: Цел = 0
    пока i < длина(задачи):
        если задачи[i][поле] == значение:
            добавить(результат, задачи[i])
        i = i + 1
    вернуть результат

экспорт функция подсчитать(поле: Строка, значение: Строка) -> Цел:
    пусть кол: Цел = 0
    пусть i: Цел = 0
    пока i < длина(задачи):
        если задачи[i][поле] == значение:
            кол = кол + 1
        i = i + 1
    вернуть кол
