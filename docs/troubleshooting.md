---
layout: default
title: Troubleshooting и диагностика
---

# Troubleshooting и диагностика

## 1. `yasn` не распознан как команда

**Windows:** установите через [Yasn-Setup-x.x.x.exe](https://github.com/yasniy/yasniy/releases). Убедитесь, что отмечено «Добавить в PATH».

**Linux/macOS:**

```bash
bash scripts/install-global.sh
```

Проверьте в новом терминале:

```powershell
yasn --help
```

## 2. Команда установилась, но не видна в текущем окне

Откройте новый терминал.

На Windows можно обновить текущую сессию вручную:

```powershell
$env:PATH = [Environment]::GetEnvironmentVariable('Path', 'User') + ';' + [Environment]::GetEnvironmentVariable('Path', 'Machine')
```

## 3. Ошибка про TAB/отступы

Причина: в файле есть TAB.

Решение: включить `Insert Spaces` в редакторе и заменить TAB на пробелы.

## 4. Ошибка типа при присваивании

```text
пусть x = 10
x = "text"
```

Причина: `x` имеет тип `Цел`, присваивается `Строка`.

## 5. `Неизвестная переменная`

Проверьте:

- опечатку;
- область видимости;
- порядок объявления.

## 6. Ошибки импорта модулей

Типичные сообщения:

- `Модуль не найден: ...`
- `Символ '...' не найден в модуле '...'`
- `Обнаружен циклический импорт: ...`
- `Конфликт имён ...`

Проверьте:

1. Относительный путь к модулю.
2. Что символ экспортируется (`экспорт`) или доступен в режиме совместимости.
3. Что импорты стоят в начале файла.
4. Конфиг `yasn.toml` (`modules.root`, `modules.paths`).
5. Что зависимости установлены (`yasn deps`).

## 7. Ошибка сигнатуры `main`

`main` должна быть:

- без параметров;
- с `-> Пусто`.

## 8. Ошибка чтения `.ybc/.yapp`

Причины:

- поврежденный файл;
- несоответствие формата.

Решение:

- пересобрать артефакт из исходника;
- проверить версию `yasn`.

## 9. Проблемы с русским текстом в PowerShell

Если видите некорректную кодировку:

```powershell
chcp 65001
[Console]::OutputEncoding = [System.Text.UTF8Encoding]::new()
```

## 10. Установленное через `install-app` приложение не запускается

Проверьте каталог launcher:

```powershell
yasn paths --short
```

Добавьте его в PATH.

## 11. Ошибка TOML на `version = 0.1.1`

Поддерживаемые форматы:

```toml
version = 1
version = 1.2
version = "0.1.1"
```

`version = 0.1.1` без кавычек невалидно для TOML и ломает разбор `yasn.toml`.
